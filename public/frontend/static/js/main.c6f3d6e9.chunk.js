(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{144:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),s=a.n(c),i=a(12),o=(a(141),a(142),a(143),a(144),a(27)),u=a(19),l=a(8),d=a(57),j=a(7),b=a(240),p=a(39),O=a(253),f=a(242),h=a(244),g=a(245),v=a(247),x=a(72),m=a(249),y=a(246),S=a(113),E=a.n(S),C=a(116),I=a.n(C),w=a(117),N=a.n(w),_=a(205),T=a(250),R=a(251),k=a(118),A=a.n(k),L=a(119),U=a.n(L),G=a(115),F=a.n(G),P=a(114),B=a.n(P),D=a(13),M=a.n(D),Y=a(22),Q="USER_SIGIN_REQUEST",X="USER_SIGIN_SUCCESS",V="USER_SIGIN_FAIL",H="USER_REGISTER_REQUEST",J="USER_REGISTER_SUCCESS",$="USER_REGISTER_FAIL",z=a(24),q=a.n(z),K=a(254),W=a(248),Z=a(4),ee=Object(b.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},menuContent:{position:"absolute",right:"2%"},menuItems:{marginRight:"1rem",cursor:"pointer"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}}));function te(){var e=Object(i.b)(),t=ee(),a=Object(p.a)(),n=r.a.useState(!1),c=Object(l.a)(n,2),s=c[0],u=c[1],d=r.a.useState(null),b=Object(l.a)(d,2),S=b[0],C=b[1],w=Object(i.c)((function(e){return e.userSignin})).userInfo,k=function(){e(function(){var e=Object(Y.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:"USER_SIGNOUT_FAIL"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.location.reload()},L=function(e){switch(C(null),e){case"logout":k()}};return Object(Z.jsx)("div",{children:w&&Object(Z.jsxs)("div",{className:t.root,children:[Object(Z.jsx)(f.a,{}),Object(Z.jsx)(h.a,{position:"relative",children:Object(Z.jsxs)(g.a,{children:[Object(Z.jsx)(y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(j.a)(t.menuButton,s&&t.hide),children:Object(Z.jsx)(E.a,{})}),Object(Z.jsxs)(x.a,{className:t.menuContent,children:[Object(Z.jsx)(o.b,{to:"/alert",children:Object(Z.jsx)(B.a,{className:t.menuItems})}),Object(Z.jsx)(F.a,{className:t.menuItems,onClick:function(e){C(e.currentTarget)}}),Object(Z.jsxs)(K.a,{id:"simple-menu",anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:function(){return L()},children:[Object(Z.jsx)(W.a,{onClick:function(){return L()},children:"Perfil"}),Object(Z.jsx)(W.a,{onClick:function(){return L("logout")},children:"Cerrar sesi\xf3n"})]})]})]})}),Object(Z.jsxs)(O.a,{className:t.drawer,variant:"persistent",anchor:"left",open:s,classes:{paper:t.drawerPaper},children:[Object(Z.jsx)("div",{className:t.drawerHeader,children:Object(Z.jsx)(y.a,{onClick:function(){u(!1)},children:"ltr"===a.direction?Object(Z.jsx)(I.a,{}):Object(Z.jsx)(N.a,{})})}),Object(Z.jsx)(m.a,{}),Object(Z.jsx)(v.a,{children:["Inicio","Alertas","Ingresos","Gastos"].map((function(e,t){return Object(Z.jsxs)(_.a,{button:!0,children:[Object(Z.jsx)(T.a,{children:t%2===0?Object(Z.jsx)(A.a,{}):Object(Z.jsx)(U.a,{})}),Object(Z.jsx)(R.a,{primary:e})]},e)}))}),Object(Z.jsx)(m.a,{})]})]})})}var ae=a(120),ne=a.n(ae),re=a(56);function ce(e){return Object(Z.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}function se(){return Object(Z.jsx)("div",{children:Object(Z.jsx)("div",{className:"spinner"})})}var ie="CATEGORY_CREATE_REQUEST",oe="CATEGORY_CREATE_SUCCESS",ue="CATEGORY_CREATE_FAIL",le="CATEGORY_LIST_REQUEST",de="CATEGORY_LIST_SUCCESS",je="CATEGORY_LIST_FAIL",be=function(){return function(){var e=Object(Y.a)(M.a.mark((function e(t,a){var n,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:le}),n=a(),r=n.userSignin.userInfo,e.prev=2,e.next=5,q.a.get("/api/categories/".concat(r.id));case 5:c=e.sent,s=c.data,t({type:de,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:je,payload:e.t0.response&&e.t0.response.data.response?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()},pe="SUBCATEGORY_LIST_REQUEST",Oe="SUBCATEGORY_LIST_SUCCESS",fe="SUBCATEGORY_LIST_FAIL",he="SUBCATEGORY_CREATE_REQUEST",ge="SUBCATEGORY_CREATE_SUCCESS",ve="SUBCATEGORY_CREATE_FAIL",xe=function(e){return function(){var t=Object(Y.a)(M.a.mark((function t(a){var n,r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:pe}),t.prev=1,t.next=4,q.a.get("/api/subcategories/".concat(e));case 4:n=t.sent,r=n.data,a({type:Oe,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:fe,payload:t.t0.response&&t.t0.response.data.response?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},me="EXPENSE_LIST_REQUEST",ye="EXPENSE_LIST_SUCCESS",Se="EXPENSE_LIST_FAIL",Ee="EXPENSE_CREATE_REQUEST",Ce="EXPENSE_CREATE_SUCCESS",Ie="EXPENSE_CREATE_FAIL",we=function(e,t){return function(){var a=Object(Y.a)(M.a.mark((function a(n,r){var c,s,i,o;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:me}),c=r(),s=c.userSignin.userInfo,a.prev=2,a.next=5,q.a.post("/api/expenses/".concat(s.id),{months:e,groupers:t},{headers:{Authorization:"Bearer ".concat(s.token)}});case 5:i=a.sent,o=i.data,n({type:ye,payload:o}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),n({type:Se,payload:a.t0.response&&a.t0.response.data.response?a.t0.response.data.message:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e,t){return a.apply(this,arguments)}}()},Ne=a(121),_e=a.n(Ne),Te=a(122),Re=a.n(Te);function ke(e){var t=e.type,a=e.categoryId,r=e.showNew,c=Object(i.b)(""),s=Object(i.c)((function(e){return e.categoryCreate})).category,o=Object(i.c)((function(e){return e.subcategoryCreate})).subcategory,u=Object(n.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],p=Object(n.useState)(""),O=Object(l.a)(p,2),f=O[0],h=O[1],g=Object(n.useState)(!1),v=Object(l.a)(g,2),x=v[0],m=v[1],y=Object(n.useState)(!1),S=Object(l.a)(y,2),E=S[0],C=S[1];return Object(n.useEffect)((function(){h("category"===t?"categoria":"subcategoria")}),[t,s]),Object(n.useEffect)((function(){s&&x&&(r(!1),c(be()),c(xe(s.categoryId)))}),[x,s,c,r]),Object(n.useEffect)((function(){o&&E&&(r(!1),c(xe(a)))}),[E,o,c,r,a]),Object(Z.jsxs)("div",{className:"sub-form",children:[Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"text",maxLength:"20",onChange:function(e){return b(e.target.value)},placeholder:"Nueva ".concat(f)})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(_e.a,{onClick:function(){switch(t){case"category":c(function(e){return function(){var t=Object(Y.a)(M.a.mark((function t(a,n){var r,c,s,i;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ie,payload:e}),r=n(),c=r.userSignin.userInfo,t.prev=2,t.next=5,q.a.post("/api/categories/",{name:e,userId:c.id});case 5:s=t.sent,i=s.data,a({type:oe,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:ue,payload:t.t0.response&&t.t0.response.data.response?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(j)),m(!0);break;case"subcategory":c(function(e,t){return function(){var a=Object(Y.a)(M.a.mark((function a(n){var r,c;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:he}),a.prev=1,a.next=4,q.a.post("/api/subcategories",{name:e,categoryId:t});case 4:r=a.sent,c=r.data,n({type:ge,payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:ve,payload:a.t0.response&&a.t0.response.data.response?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(j,a)),C(!0)}}})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(Re.a,{onClick:function(){return r(!1)}})})]})}var Ae=a(45),Le=a(63),Ue=a.n(Le);function Ge(e){var t=Object(i.b)(),a=e.modalIsOpen,r=e.setIsOpen,c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],u=s[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),p=b[0],O=b[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),g=h[0],v=h[1],x=Object(n.useState)(""),m=Object(l.a)(x,2),y=m[0],S=m[1],E=Object(n.useState)(""),C=Object(l.a)(E,2),I=C[0],w=C[1],N=Object(n.useState)(""),_=Object(l.a)(N,2),T=_[0],R=_[1],k=Object(n.useState)(!1),A=Object(l.a)(k,2),L=A[0],U=A[1],G=Object(n.useState)(!1),F=Object(l.a)(G,2),P=F[0],B=F[1],D=Object(n.useState)(!1),Q=Object(l.a)(D,2),X=Q[0],V=Q[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),$=J[0],z=J[1],K=Object(i.c)((function(e){return e.categoriesList})),W=K.loading,ee=K.error,te=K.categories,ae=Object(i.c)((function(e){return e.expenseCreate})),ne=ae.expense,ie=ae.loading,oe=ae.error,ue=Object(i.c)((function(e){return e.subcategoriesList})),le=ue.subcategories,de=ue.loading,je=ue.error,pe=Object(n.useCallback)((function(){r(!1)}),[r]),Oe=Object(n.useCallback)((function(){te?te.length>0&&S(te[0].value):t(be())}),[te,t]);return Object(n.useEffect)((function(){y&&(le&&!P?le.length>0&&w(le[0].value):(t(xe(y)),B(!1)))}),[y,le,P,t]),Object(n.useEffect)((function(){!function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();t=t<10?"0".concat(t):"".concat(t),a=a<10?"0".concat(a):"".concat(a);var r="".concat(n,"-").concat(a,"-").concat(t);R(r),v(r)}(),Oe()}),[Oe]),Object(n.useEffect)((function(){if(ne&&L){var e=[T.split("-")[1]];t(we(e,[])),pe()}}),[ne,t,L,pe,T]),Object(Z.jsx)("div",{children:Object(Z.jsx)(Ae.c,{children:Object(Z.jsxs)(Ae.g,{isOpen:a,toggle:pe,children:[Object(Z.jsx)(Ae.i,{toggle:pe,children:"Nuevo gasto"}),Object(Z.jsx)(Ae.h,{children:Object(Z.jsxs)("form",{className:"form-modal",onSubmit:function(e){e.preventDefault();var a={description:o,value:p,date:g,categoryCategoryId:y,subcategorySubcategoryId:I};U(!0),t(function(e){return function(){var t=Object(Y.a)(M.a.mark((function t(a,n){var r,c,s,i;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Ee}),r=n(),c=r.userSignin.userInfo,t.prev=2,t.next=5,q.a.post("/api/expenses/",Object(d.a)(Object(d.a)({},e),{},{userUserId:c.id}));case 5:s=t.sent,i=s.data,a({type:Ce,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:Ie,payload:t.t0.response&&t.t0.response.data.response?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))},children:[oe&&Object(Z.jsx)(ce,{variant:"danger",children:oe}),Object(Z.jsx)("div",{children:W?Object(Z.jsx)(se,{}):ee?Object(Z.jsx)(ce,{variant:"danger",children:ee}):Object(Z.jsxs)("div",{children:[Object(Z.jsx)(re.a,{className:"select",placeholder:"Categorias",onChange:function(e){return function(e){S(e),B(!0)}(e.value)},defaultValue:te[0],options:te}),Object(Z.jsx)(Ue.a,{onClick:function(){return V(!X)},className:"fas fa-plus-circle"}),X&&Object(Z.jsx)(ke,{showNew:V,type:"category"})]})}),Object(Z.jsx)("div",{children:de?Object(Z.jsx)("div",{className:"new-category",onClick:function(){return V(!X)},children:"Crear categoria"}):je?Object(Z.jsx)(ce,{variant:"danger",children:je}):Object(Z.jsxs)("div",{children:[Object(Z.jsx)(re.a,{className:"select",placeholder:"Subcategorias",onChange:function(e){return w(e.value)},defaultValue:le[0],options:le}),Object(Z.jsx)(Ue.a,{onClick:function(){return z(!$)},className:"fas fa-plus-circle"}),$&&Object(Z.jsx)(ke,{showNew:z,type:"subcategory",categoryId:y})]})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"number",step:"1000",onChange:function(e){return O(e.target.value)},placeholder:"Valor"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"text",onChange:function(e){return u(e.target.value)},placeholder:"Descripcion"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{value:T,type:"date",onChange:function(e){return function(e){R(e),v(e)}(e.target.value)},placeholder:"Fecha"})}),Object(Z.jsx)("div",{children:ie?Object(Z.jsx)(se,{}):Object(Z.jsx)("button",{className:"btn primary",type:"submit",children:"Crear"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("button",{className:"btn secundary",onClick:pe,children:"Cancelar"})})]})})]})})})}function Fe(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userSignin})).userInfo,a=r.a.useState(!1),c=Object(l.a)(a,2),s=c[0],o=c[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(n.useEffect)((function(){b(!1)}),[e,j]),Object(Z.jsxs)("div",{children:[s&&Object(Z.jsx)(Ge,{modalIsOpen:s,setIsOpen:o,successList:b}),t&&Object(Z.jsx)("div",{className:"floating-button",children:Object(Z.jsx)("button",{className:"btoncito",onClick:function(){return o(!0)},children:Object(Z.jsx)(Ue.a,{})})})]})}ne.a.setAppElement("body");var Pe="ALERT_LIST_REQUEST",Be="ALERT_LIST_SUCCESS",De="ALERT_LIST_FAIL";function Me(){var e=Object(i.b)(),t=Object(n.useState)(),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(i.c)((function(e){return e.alertList})),o=s.error,u=s.loading,d=s.alerts;return Object(n.useEffect)((function(){if(d){var t=[];d.map((function(e){return t.push({alert:e.alert,message:e.message,date:e.date})})),c({columns:[{label:"Nombre",field:"alert",width:150},{label:"Mensaje",field:"message",width:270},{label:"Fecha",field:"date",width:270}],rows:t})}else e(function(){var e=Object(Y.a)(M.a.mark((function e(t,a){var n,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Pe}),n=a(),r=n.userSignin.userInfo,e.prev=2,e.next=5,q.a.get("/api/alerts/".concat(r.id));case 5:c=e.sent,s=c.data,t({type:Be,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:De,payload:e.t0.response&&e.t0.response.data.response?e.t0.response.data.message:e.t0.name});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}())}),[d,e]),Object(Z.jsx)("div",{children:u?Object(Z.jsx)(se,{}):o?Object(Z.jsx)(ce,{variant:"danger",children:o}):Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{children:"Mis Alertas"}),Object(Z.jsx)("div",{className:"data-table",children:Object(Z.jsx)(Ae.d,{hover:!0,data:r,searchTop:!0})})]})})}var Ye="GET_MONTHS_REQUEST",Qe="GET_MONTHS_SUCCESS",Xe="GET_MONTHS_FAIL",Ve=function(){return function(){var e=Object(Y.a)(M.a.mark((function e(t){var a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ye}),e.prev=1,e.next=4,q.a.get("/api/utils/months");case 4:a=e.sent,n=a.data,t({type:Qe,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:Xe,payload:e.t0.response&&e.t0.response.data.response?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()};function He(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.monthsGet})).months,r=e.month,c=Object(n.useState)(),s=Object(l.a)(c,2),o=s[0],u=s[1],d=Object(n.useState)(),j=Object(l.a)(d,2),b=j[0],p=j[1],O=Object(n.useState)(),f=Object(l.a)(O,2),h=f[0],g=f[1],v=Object(n.useState)([]),x=Object(l.a)(v,2),m=x[0],y=x[1];return Object(n.useEffect)((function(){t(we([r],[]))}),[t,r]),Object(n.useEffect)((function(){h||g([{value:"category",label:"Categoria"},{value:"subcategory",label:"Subcategoria"}])}),[h]),Object(n.useEffect)((function(){if(a){var e=a.filter((function(e){return e.value===r}));o||u(e),b||p([e[0].value])}else t(Ve())}),[t,a,o,r,b]),Object(Z.jsxs)("div",{className:"selects-datable",children:[a&&o&&Object(Z.jsx)(re.a,{className:"select",placeholder:"Mes",isMulti:!0,onChange:function(e){return function(e){var a=[];e.map((function(e){return a.push(e.value)})),p(a),t(we(a,m))}(e)},defaultValue:o,options:a}),a&&o&&Object(Z.jsx)(re.a,{className:"select",placeholder:"Agrupar por...",isMulti:!0,onChange:function(e){return function(e){var a=[];e.map((function(e){return a.push(e.value)})),y(a),t(we(b,a))}(e)},options:h})]})}function Je(e){var t=Object(i.b)(),a=Object(n.useState)(!1),r=Object(l.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)({}),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(n.useState)(),p=Object(l.a)(b,2),O=p[0],f=p[1],h=Object(i.c)((function(e){return e.userSignin})).userInfo,g=Object(i.c)((function(e){return e.monthsGet})).months,v=Object(i.c)((function(e){return e.expenseList})),x=v.loading,m=v.expenses,y=v.error,S=function(e){var t=e.split("-")[1],a=e.split("-")[2],n=g.filter((function(e){return e.value===t}));return"".concat(a," ").concat(n[0].label)};return Object(n.useEffect)((function(){g||t(Ve())}),[t,g]),Object(n.useEffect)((function(){if(h||e.history.push("/login"),m){var t=[{label:"Categoria",field:"category",width:150,attributes:{"aria-controls":"DataTable","aria-label":"Gasto"}},{label:"Subcategoria",field:"subcategory",width:270},{label:"Valor",field:"value",width:270}],a=[];m.length&&(m[0].description&&t.push({label:"Descripci\xf3n",field:"description",width:270}),m[0].date&&t.push({label:"Fecha",field:"date",width:270}),m.map((function(e){return a.push({category:e.category.category,subcategory:e.subcategory.subcategory,description:e.description?e.description:"",value:(new Intl.NumberFormat).format(e.value),date:e.date?S(e.date.split("T")[0]):""})}))),j({columns:t,rows:a})}else!function(){var e=(new Date).getMonth()+1;e=e<10?"0".concat(e):"".concat(e),f(e)}();s(!1)}),[t,e,h,c,m,O]),Object(Z.jsxs)("div",{className:"home-screen",children:[Object(Z.jsx)("div",{className:"title",children:"Dero"}),O&&Object(Z.jsx)(He,{month:O}),x?Object(Z.jsx)(se,{}):y?Object(Z.jsx)(ce,{variant:"danger",children:y}):Object(Z.jsxs)("div",{className:"datatable",children:[Object(Z.jsx)("div",{className:"data-info",children:Object(Z.jsxs)("div",{className:"data-card",children:[Object(Z.jsx)("div",{children:"Gastos totales"}),Object(Z.jsxs)("div",{children:["$",(new Intl.NumberFormat).format(m.reduce((function(e,t){return e+parseInt(t.value)}),0))]})]})}),Object(Z.jsx)("div",{className:"data-table",children:Object(Z.jsx)(Ae.d,{hover:!0,data:d,searchTop:!0,paging:!1,info:!1,searchBottom:!1})}),Object(Z.jsx)("div",{className:"data-content",children:m.map((function(e){return Object(Z.jsxs)("div",{className:"data-table-items",children:[Object(Z.jsx)("div",{children:e.date?S(e.date.split("T")[0]):""}),Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{className:"category",children:e.category.category}),Object(Z.jsx)("div",{className:"subcategory",children:e.subcategory.subcategory})]}),Object(Z.jsxs)("div",{children:["$",(new Intl.NumberFormat).format(e.value)]})]})]},e.expenseId)}))})]})]})}function $e(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.userSignin})),r=a.userInfo,c=a.error,s=a.loading,u=Object(n.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],p=Object(n.useState)(""),O=Object(l.a)(p,2),f=O[0],h=O[1];return Object(n.useEffect)((function(){r&&e.history.push("/")}),[r,e]),Object(Z.jsxs)("div",{className:"home",children:[Object(Z.jsxs)("form",{className:"form",onSubmit:function(e){var a;e.preventDefault(),t((a={username:j,password:f},function(){var e=Object(Y.a)(M.a.mark((function e(t){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Q}),e.prev=1,e.next=4,q.a.post("/api/users/signin",a);case 4:n=e.sent,r=n.data,t({type:X,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:V,payload:e.t0.response&&e.t0.response.data.response?e.t0.response.data.message:e.t0.name});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(Z.jsx)("div",{className:"title",children:"Iniciar sesi\xf3n"}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"text",id:"username",placeholder:"Username",onChange:function(e){return b(e.target.value)}})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})}),Object(Z.jsx)("div",{children:s?Object(Z.jsx)(se,{}):Object(Z.jsx)("button",{className:"btn primary",type:"submit",children:"Iniciar Sesi\xf3n"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(o.b,{to:"/register",children:"\xbfOlvidaste tu contrase\xf1a?"})}),Object(Z.jsx)("div",{children:c&&Object(Z.jsx)(ce,{variant:"danger",children:c})})]}),Object(Z.jsx)("div",{className:"box-register",children:Object(Z.jsx)("div",{children:Object(Z.jsx)("span",{children:Object(Z.jsx)(o.b,{to:"/register",children:"Crear una cuenta"})})})})]})}function ze(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.userSignin})).userInfo,r=Object(n.useState)(""),c=Object(l.a)(r,2),s=c[0],u=c[1],d=Object(n.useState)(""),j=Object(l.a)(d,2),b=j[0],p=j[1],O=Object(n.useState)(""),f=Object(l.a)(O,2),h=f[0],g=f[1],v=Object(n.useState)(""),x=Object(l.a)(v,2),m=x[0],y=x[1],S=Object(n.useState)(null),E=Object(l.a)(S,2),C=E[0],I=E[1];return Object(n.useEffect)((function(){a&&e.history.push("/")})),Object(Z.jsx)("div",{className:"home",children:Object(Z.jsxs)("form",{className:"form",onSubmit:function(e){var a;e.preventDefault(),I(null),b===h?t((a={username:s,password:b,email:m},function(){var e=Object(Y.a)(M.a.mark((function e(t){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:H,payload:a}),e.prev=1,e.next=4,q.a.post("/api/users/register",a);case 4:n=e.sent,r=n.data,t({type:J,payload:r}),t({type:X,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:$,payload:e.t0.response&&e.t0.response.data.response?e.t0.response.data.message:e.t0.name});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())):I("Las contrase\xf1as no coinciden")},children:[Object(Z.jsx)("div",{className:"title",children:"Registro"}),Object(Z.jsx)("div",{children:C&&Object(Z.jsx)(ce,{variant:"danger",children:C})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"text",id:"username",placeholder:"Username",onChange:function(e){return u(e.target.value)}})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"email",id:"email",placeholder:"Email",onChange:function(e){return y(e.target.value)}})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)}})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:function(e){return g(e.target.value)}})}),Object(Z.jsx)("div",{children:Object(Z.jsx)("button",{className:"btn primary",type:"submit",children:"Registrarme"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(o.b,{to:"/login",children:"Iniciar sesion"})})]})})}var qe=function(){return Object(Z.jsxs)(o.a,{children:[Object(Z.jsx)(te,{}),Object(Z.jsx)(u.a,{path:"/",component:Je,exact:!0}),Object(Z.jsx)(u.a,{path:"/login",component:$e}),Object(Z.jsx)(u.a,{path:"/register",component:ze}),Object(Z.jsx)(u.a,{path:"/alert",component:Me}),Object(Z.jsx)(Fe,{})]})},Ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,256)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},We=a(64),Ze=a(126),et={userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},tt=Object(We.b)({userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case X:return{loading:!1,userInfo:t.payload,success:!0};case V:return{loading:!1,error:t.payload};default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0};case J:return{loading:!1,user:t.payload};case $:return{loading:!1,error:t.payload};default:return e}},expenseList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{loading:!0};case ye:return{loading:!1,expenses:t.payload};case Se:return{loading:!1,error:t.payload};default:return e}},expenseCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case Ce:return{loading:!1,expense:t.payload};case Ie:return{loading:!1,error:t.payload};default:return e}},categoryCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case oe:return{loading:!1,category:t.payload};case ue:return{loading:!1,error:t.payload};default:return e}},categoriesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{loading:!0};case de:return{loading:!1,categories:t.payload};case je:return{loading:!1,error:t.payload};default:return e}},subcategoriesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{loading:!0};case Oe:return{loading:!1,subcategories:t.payload};case fe:return{loading:!1,error:t.payload};default:return e}},subcategoryCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{loading:!0};case ge:return{loading:!1,subcategory:t.payload};case ve:return{loading:!1,error:t.payload};default:return e}},alertList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{loading:!0};case Be:return{loading:!1,alerts:t.payload};case De:return{loading:!1};default:return e}},monthsGet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return{loading:!0};case Qe:return{loading:!1,months:t.payload};case Xe:return{loading:!1,error:t.payload};default:return e}}}),at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||We.c,nt=Object(We.d)(tt,et,at(Object(We.a)(Ze.a)));s.a.render(Object(Z.jsx)(i.a,{store:nt,children:Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(qe,{})})}),document.getElementById("root")),Ke()}},[[202,1,2]]]);
//# sourceMappingURL=main.c6f3d6e9.chunk.js.map